# Automated Malware Analysis


### Blue Jupyter

> Blue Jupyter uses Python's jupyter notebooks to automate malware analysis and the accompanying documentation. It combines Python code with documentation written in Markdown. Jupyter notebooks act a a Python REPL and act like the interactive Python shell where you can import libraries and run code. You go through the notebook and run cells as you work through reading the Markdown documentation.

Blue Jupyter Does:
- a) defangs each malware sample
- b) gets the SHA256 hash of each malware sample
- c) performs string analysis using the StringSifter tool (developed by FLARE) which ranks a binary's string by it's relevance 
- d) submits each malware sample to VirusTotal for analysis using their API
- e) zips and password protects the malware samples, ready to be transported 


Installation & Setup:
- clone the GitHub repo: `git clone --branch PMAT PMAT-lab https://github.com/HuskyHacks/blue-jupyter.git`
- install necessary Python packages:
	- `pip3 install poetry`
	- `pip3 install jupyter`
- change to blue-jupyter directory and run `python3 -m poetry install` to install depedencies
- drop into poetry shell with `python3 -m poetry shell`
- change to malware-analysis directory and run `jupyter notebook` -- this will start the Jupyter server and spwan a web browser which is connected to it 


Process:
1. open the blue juypter malware-analysis notebook (as described above) and navigate to the Malware-Analysis.ipynb file in the web browser
2. get malware samples and move them all to the "dropbox" directory in the "malware-analysis" blue jupyter directory 
	- remove the SampleNegative.txt and SamplePositive.txt files already in there
3. work through the notebook running the cells 
	- at points you will need to enter information for the desired minimum string length for string sifter and a VirusTotal API ke


---

### Malware Sandboxing 

> A big part of malware analysis automation is malware sandboxing. This is where you upload a malware sample to a sandboxed environment (online or offline) and then run this sample in that environment and automatically record everything that happens. Some sandboxes let you customise your envrionment (i.e. OS, architecture, software installed on system, etc.), add command line arguments, and setup a network.


Online Sandboxes:
- https://app.any.run
- https://analyze.intezer.com
- https://www.joesandbox.com
- https://www.hybrid-analysis.com

Offline Sandboxes:
- https://cuckoosandbox.org/